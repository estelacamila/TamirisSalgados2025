const fritos = [
  {
    id: 'coxinha-carne',
    nome: 'Coxinha de Carne',
    descricao: 'Coxinha de carne.',
    preco: 4.00,
    img: 'https://grupodocedoce.com.br/storage/produtos/179/panutti-coxinha-de-carne-1583409505.jpg',
  },
  {
    id: 'coxinha-frango',
    nome: 'Coxinha de Frango',
    descricao: 'Salgado frito recheado com frango desfiado temperado.',
    preco: 4.00,
    img: 'http://guiadacozinha.com.br/wp-content/uploads/2018/08/coxinhadefrangocremosa.webp',
  },
  
  
   {
    id: 'croquete',
    nome: 'Croquete',
    descricao: 'Croquete de carne.',
    preco: 4.00,
    img: 'https://nutrimassasesalgados.com/wp-content/uploads/2025/06/100003-scaled.webp',
  },
  {
    id: 'coxinha-presunto-queijo',
    nome: 'Presunto e Queijo',
    descricao: 'Deliciosos presunto e queijo.',
    preco: 4.00,
    img: 'https://freskimassas.com.br/wp-content/uploads/2016/06/enroladinhos.jpg',
  },
 
   {
    id: 'kibe',
    nome: 'Kibe',
    descricao: 'Kibe tradicional, crocante e saboroso.',
    preco: 4.00,
    img: 'https://paodequeijodomaestro.com.br/wp-content/uploads/2022/01/kibe.jpg',
  },
  {
    id: 'salsicha-queijo',
    nome: 'Salsicha com Queijo',
    descricao: 'Salsicha empanada recheada com queijo.',
    preco: 4.00,
    img: 'https://anamariareceitas.com.br/wp-content/uploads/2023/02/Cachorro-quente-no-palito-1.jpg',
  },
  
];

const medalhoes = [
  {
    id: 'medalhao-queijo',
    nome: 'Mandioca com Queijo',
    descricao: 'Medalhão de mandioca com recheio de queijo, para assar na churrasqueira/air fryer.',
    preco: 25.00,
    img: 'https://img1.wsimg.com/isteam/ip/9fc18cc9-1169-448b-8e03-9e9a44fb0f2b/DSC_3091-Editar.jpg/:/cr=t:0%25,l:16.67%25,w:66.67%25,h:100%25/rs=w:600,h:600,cg:true',
  },
  {
    id: 'medalhao-carne-seca',
    nome: 'Mandioca com Carne Seca',
    descricao: 'Medalhão de mandioca com recheio de carne seca, para assar na churrasqueira/air fryer.',
    preco: 27.00,
    img: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQUlCl1GdMnw3E6l2PP4K4oh_63Uz0dQTZP5w&s',
  },
  {
    id: 'medalhao-costela',
    nome: 'Mandioca com Costela',
    descricao: 'Medalhão de mandioca com recheio de costela, para assar na churrasqueira/air fryer.',
    preco: 27.00,
    img: 'https://qgalimentos.com.br/assets/images/medalhao-de-mandioca-recheado-com-costelabovina-1.jpg',
  },
    {
    id: 'medalhao-costela',
    nome: 'Kibe',
    descricao: 'Kibe com recheio de mussarela, para assar na churrasqueira/air fryer.',
    preco: 5.50,
    img: 'https://www.receitasnestle.com.br/sites/default/files/styles/cropped_recipe_card_new/public/srh_recipes/33e0639a2b7e7bc215ccb4b5d0100315.jpg?itok=BiGSla6G',
  },
  
  {
    id: 'romeu-julietta',
    nome: 'Romeu e Julieta',
    descricao: 'Medalhão de queijo com goiabada, para assar na churrasqueira/air fryer.',
    preco: 27.00,
    img: 'https://images.tcdn.com.br/img/img_prod/1249907/medalhao_de_romeu_e_julieta_300gr_4_espetos_39_1_bd8a63b7d63890af6eb56d747bd48297.jpeg',
  },
  {
    id: 'quiabo',
    nome: 'Medalhão de Quiabo',
    descricao: 'Recheio tradicional de quiabo, para assar na churrasqueira/air fryer.',
    preco: 27.00,
    img: 'https://www.santamassa.com.br/wp-content/uploads/2024/03/post_28_marco_blog.jpg',
  }
];

const mini = [
  {
    id: 'mini-coxinha',
    nome: 'Coxinha de frango',
    descricao: 'mini Coxinha de frango.',
    preco: 90.00,
    img: 'https://www.tiaeliana.com.br/alimentacao-salgados/imagens/mini-coxinhas-congeladas.jpg',
  },
   {
    id: 'mini-coxinha',
    nome: 'Coxinha de carne',
    descricao: 'Mini Coxinha de carne.',
    preco: 90.00,
    img: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQjBHssYrAWof4VkDnE0JuG2vIZboU6wUPvtA&s',
  },
  {
    id: 'mini-bolinha-queijo',
    nome: 'Mini Bolinha de Queijo',
    descricao: 'Bolinha recheada com queijo mussarela.',
    preco: 90.00,
    img: 'https://anamariabrogui.com.br/assets/uploads/receitas/fotos/usuario-3628-c12f84d41f945ccc5ce77958b100781f.jpg',
  },
    {
    id: 'mini-croquete',
    nome: 'presunto e queijo ',
    descricao: 'bolinha de presunto e queijo.',
    preco: 90.00,
    img: 'https://guiadacozinha.com.br/wp-content/uploads/2019/10/bolinha-mista-38941.jpg',
  },

  {
    id: 'mini-kibe',
    nome: 'Mini Kibe',
    descricao: 'Kibe tradicional.',
    preco: 90.00,
    img: 'https://i.ytimg.com/vi/EfHN1O7ph9U/hq720.jpg?sqp=-oaymwEhCK4FEIIDSFryq4qpAxMIARUAAAAAGAElAADIQj0AgKJD&rs=AOn4CLC6hto45JGkJi0nc-bTS9HFnRdtUw',
  },
  {
    id: 'mini-kibe',
    nome: 'Mini Kibe',
    descricao: 'Kibe de buteco.',
    preco: 90.00,
    img: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQPKK1VoJwa_yCP4UXoHrqV1Y7j3w5wMHrqLQ&s',
  },

  {
    id: 'mini-presunto',
    nome: 'risoles ',
    descricao: 'mini risoles catupiry e minho.',
    preco: 90.00,
    img: 'https://i.ytimg.com/vi/G0psq05o4fw/maxresdefault.jpg',
  },
    {
    id: 'mini-presunto',
    nome: 'salsicha ',
    descricao: 'mini salsicha.',
    preco: 90.00,
    img: 'https://static.wixstatic.com/media/e87d5a_e035b59e7f4142feb4746c54c1427935~mv2.jpg/v1/fill/w_480,h_320,al_c,q_80,usm_0.66_1.00_0.01,enc_avif,quality_auto/e87d5a_e035b59e7f4142feb4746c54c1427935~mv2.jpg',
  }

];

const fritosSection = document.getElementById('fritos-section');
const medalhoesSection = document.getElementById('medalhoes-section');
const miniSection = document.getElementById('mini-section');
const btnFritos = document.getElementById('btn-fritos');
const btnMedalhoes = document.getElementById('btn-medalhoes');
const btnMini = document.getElementById('btn-mini');
const btnCartToggle = document.getElementById('btn-cart-toggle');
const cart = document.getElementById('cart');
const btnCloseCart = document.getElementById('btn-close-cart');
const cartItemsContainer = document.getElementById('cart-items');
const cartTotalDisplay = document.getElementById('cart-total');
const btnFinalize = document.getElementById('btn-finalize');
const paymentOptions = document.getElementById('payment-options');

let cartItems = [];

function formatPrice(price) {
  return 'R$ ' + price.toFixed(2).replace('.', ',');
}

function createCard(item) {
  const card = document.createElement('article');
  card.className = 'item-card';

  card.innerHTML = `
    <img src="${item.img}" alt="${item.nome}" class="item-image" />
    <div class="item-info">
      <h3 class="item-name">${item.nome}</h3>
      <p class="item-desc">${item.descricao}</p>
      <div class="item-footer">
        <span class="item-price">${formatPrice(item.preco)}</span>
        <button class="btn-add" data-id="${item.id}">Adicionar</button>
      </div>
    </div>
  `;

  return card;
}

function renderItems() {
  fritosSection.innerHTML = '';
  medalhoesSection.innerHTML = '';
  miniSection.innerHTML = '';

  fritos.forEach(item => {
    fritosSection.appendChild(createCard(item));
  });

  medalhoes.forEach(item => {
    medalhoesSection.appendChild(createCard(item));
  });

  mini.forEach(item => {
    miniSection.appendChild(createCard(item));
  });
}

function updateCart() {
  cartItemsContainer.innerHTML = '';
  if (cartItems.length === 0) {
    cartItemsContainer.innerHTML = '<p>Seu carrinho está vazio.</p>';
    cartTotalDisplay.textContent = 'Total: R$ 0,00';
    paymentOptions.classList.remove('active');
    return;
  }

  cartItems.forEach(item => {
    const div = document.createElement('div');
    div.className = 'cart-item';
    div.innerHTML = `
      <span class="cart-item-name">${item.nome} x${item.quantity}</span>
      <span class="cart-item-price">${formatPrice(item.preco * item.quantity)}</span>
    `;
    cartItemsContainer.appendChild(div);
  });

  const total = cartItems.reduce((acc, item) => acc + item.preco * item.quantity, 0);
  cartTotalDisplay.textContent = 'Total: ' + formatPrice(total);
  paymentOptions.classList.add('active');
}

function addToCart(id) {
  const allItems = [...fritos, ...medalhoes, ...mini];
  const item = allItems.find(i => i.id === id);
  if (!item) return;

  const existing = cartItems.find(ci => ci.id === id);
  if (existing) {
    existing.quantity++;
  } else {
    cartItems.push({...item, quantity: 1});
  }
  updateCart();
  if (!cart.classList.contains('open')) toggleCart();
}

function toggleCart() {
  cart.classList.toggle('open');
}

btnFritos.addEventListener('click', () => {
  btnFritos.classList.add('active');
  btnMedalhoes.classList.remove('active');
  btnMini.classList.remove('active');

  fritosSection.style.display = 'grid';
  medalhoesSection.style.display = 'none';
  miniSection.style.display = 'none';
});

btnMedalhoes.addEventListener('click', () => {
  btnMedalhoes.classList.add('active');
  btnFritos.classList.remove('active');
  btnMini.classList.remove('active');

  medalhoesSection.style.display = 'grid';
  fritosSection.style.display = 'none';
  miniSection.style.display = 'none';
});

btnMini.addEventListener('click', () => {
  btnMini.classList.add('active');
  btnFritos.classList.remove('active');
  btnMedalhoes.classList.remove('active');

  miniSection.style.display = 'grid';
  fritosSection.style.display = 'none';
  medalhoesSection.style.display = 'none';
});

btnCartToggle.addEventListener('click', toggleCart);
btnCloseCart.addEventListener('click', toggleCart);

document.body.addEventListener('click', e => {
  if (e.target.classList.contains('btn-add')) {
    const id = e.target.getAttribute('data-id');
    addToCart(id);
  }
});

btnFinalize.addEventListener('click', () => {
  if (cartItems.length === 0) {
    alert('Seu carrinho está vazio!');
    return;
  }
  const paymentMethod = document.querySelector('input[name="payment"]:checked').value;
  let message = `Olá, gostaria de fazer um pedido:\n\n`;
  cartItems.forEach(item => {
    message += `- ${item.nome} x${item.quantity} = ${formatPrice(item.preco * item.quantity)}\n`;
  });
  message += `\nTotal: ${cartTotalDisplay.textContent.replace('Total: ', '')}\nForma de pagamento: ${paymentMethod}`;
  const encodedMessage = encodeURIComponent(message);
  window.open(`https://wa.me/5517992192126?text=${encodedMessage}`, '_blank');
});

renderItems();
